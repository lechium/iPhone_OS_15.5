//
//     Generated by classdump-c 4.2.0 (64 bit).
//
//  Copyright (C) 1997-2019 Steve Nygard. Updated in 2022 by Kevin Bradley.
//

#import <objc/NSObject.h>

#import <SafariShared/WBSCloudHistoryServiceProtocol-Protocol.h>
#import <SafariShared/WBSCloudKitThrottlerDataStore-Protocol.h>

@class NSData, NSMutableArray, NSMutableDictionary, NSString, WBSCloudHistoryConfiguration, WBSCloudHistoryPushAgentProxy, WBSCloudKitThrottler, WBSOneShotTimer;
@protocol OS_dispatch_queue, WBSCloudHistoryDataStore, WBSCloudKitContainerManateeObserving, WBSHistoryServiceDatabaseProtocol;

@interface WBSCloudHistory : NSObject <WBSCloudHistoryServiceProtocol, WBSCloudKitThrottlerDataStore>
{
    NSObject<OS_dispatch_queue> *_cloudHistoryQueue;	// 8 = 0x8
    id <WBSHistoryServiceDatabaseProtocol> _database;	// 16 = 0x10
    NSData *_pushThrottlerData;	// 24 = 0x18
    NSData *_fetchThrottlerData;	// 32 = 0x20
    NSData *_syncCircleSizeRetrievalThrottlerData;	// 40 = 0x28
    NSData *_longLivedSaveOperationData;	// 48 = 0x30
    unsigned long long _syncCircleSize;	// 56 = 0x38
    _Bool _cloudHistoryEnabled;	// 64 = 0x40
    _Bool _saveChangesWhenHistoryLoads;	// 65 = 0x41
    _Bool _fetchChangesWhenHistoryLoads;	// 66 = 0x42
    struct unique_ptr<SafariShared::SuddenTerminationDisabler, std::default_delete<SafariShared::SuddenTerminationDisabler>> _saveOperationSuddenTerminationDisabler;	// 72 = 0x48
    struct unique_ptr<SafariShared::SuddenTerminationDisabler, std::default_delete<SafariShared::SuddenTerminationDisabler>> _fetchOperationSuddenTerminationDisabler;	// 80 = 0x50
    struct unique_ptr<SafariShared::SuddenTerminationDisabler, std::default_delete<SafariShared::SuddenTerminationDisabler>> _replayLongLivedSaveOperationSuddenTerminationDisabler;	// 88 = 0x58
    _Bool _replayLongLivedSaveOperationHasBeenPerformed;	// 96 = 0x60
    WBSCloudHistoryConfiguration *_configuration;	// 104 = 0x68
    id <WBSCloudHistoryDataStore> _store;	// 112 = 0x70
    WBSCloudKitThrottler *_saveChangesThrottler;	// 120 = 0x78
    WBSCloudKitThrottler *_fetchChangesThrottler;	// 128 = 0x80
    WBSCloudKitThrottler *_syncCircleSizeRetrievalThrottler;	// 136 = 0x88
    WBSOneShotTimer *_serverBackoffTimer;	// 144 = 0x90
    _Bool _saveChangesWhenBackoffTimerFires;	// 152 = 0x98
    _Bool _fetchChangesWhenBackoffTimerFires;	// 153 = 0x99
    WBSCloudHistoryPushAgentProxy *_pushAgent;	// 160 = 0xa0
    WBSOneShotTimer *_pushNotificationFetchTimer;	// 168 = 0xa8
    unsigned long long _numberOfDevicesInSyncCircle;	// 176 = 0xb0
    NSMutableDictionary *_syncCircleSizeRetrievalCompletionHandlersByOperation;	// 184 = 0xb8
    CDUnknownBlockType _fetchCompletionHandler;	// 192 = 0xc0
    CDUnknownBlockType _saveCompletionHandler;	// 200 = 0xc8
    id <WBSCloudKitContainerManateeObserving> _containerManateeObserver;	// 208 = 0xd0
    NSMutableArray *_storeDeterminationCompletionBlocks;	// 216 = 0xd8
    long long _currentManateeState;	// 224 = 0xe0
    _Bool _manateeStateNeedsUpdate;	// 232 = 0xe8
    _Bool _isWaitingForPCSIdentityUpdate;	// 233 = 0xe9
    _Bool _determiningStoreType;	// 234 = 0xea
    _Bool _removedHistoryItemsArePendingSave;	// 235 = 0xeb
}

- (id).cxx_construct;	// IMP=0x00000000000213db
- (void).cxx_destruct;	// IMP=0x00000000000212b9
@property(nonatomic) unsigned long long numberOfDevicesInSyncCircle; // @synthesize numberOfDevicesInSyncCircle=_numberOfDevicesInSyncCircle;
@property(nonatomic) _Bool removedHistoryItemsArePendingSave; // @synthesize removedHistoryItemsArePendingSave=_removedHistoryItemsArePendingSave;
- (void)fetchDateOfNextPermittedSaveChangesAttemptWithCompletionHandler:(CDUnknownBlockType)arg1;	// IMP=0x00000000000211b6
- (void)resetForAccountChangeWithCompletionHandler:(CDUnknownBlockType)arg1;	// IMP=0x0000000000021095
- (void)updateConfiguration:(id)arg1 completionHandler:(CDUnknownBlockType)arg2;	// IMP=0x0000000000020fec
- (void)_resetForAccountChangeWithCompletionHandler:(CDUnknownBlockType)arg1;	// IMP=0x0000000000020dfe
- (void)resetForAccountChange;	// IMP=0x0000000000020dea
- (void)_resetCloudHistoryDataWithCompletionHandler:(CDUnknownBlockType)arg1;	// IMP=0x0000000000020c5f
- (void)_setCachedNumberOfDevicesInSyncCircle:(unsigned long long)arg1;	// IMP=0x0000000000020b14
- (unsigned long long)_cachedNumberOfDevicesInSyncCircle;	// IMP=0x0000000000020b0a
- (void)_updateThrottlerPolicies;	// IMP=0x0000000000020a41
- (void)_updateDeviceCountInResponseToPushNotification;	// IMP=0x00000000000209d4
- (id)_currentSyncCircleSizeRetrievalThrottlerPolicyString;	// IMP=0x0000000000020963
- (id)_currentFetchChangesThrottlerPolicyString;	// IMP=0x0000000000020924
- (id)_currentSaveChangesThrottlerPolicyString;	// IMP=0x00000000000208e5
- (void)setRecordOfPastOperations:(id)arg1 forThrottler:(id)arg2;	// IMP=0x0000000000020640
- (id)recordOfPastOperationsForThrottler:(id)arg1;	// IMP=0x00000000000205d9
- (void)_cloudHistoryConfigurationChanged:(id)arg1;	// IMP=0x00000000000205c6
- (void)_serverBackoffTimerFired:(id)arg1;	// IMP=0x0000000000020563
- (void)_backOffWithInterval:(double)arg1;	// IMP=0x0000000000020498
- (double)_backoffTimeIntervalFromError:(id)arg1;	// IMP=0x000000000002033c
- (long long)_resultFromError:(id)arg1;	// IMP=0x00000000000201a8
- (long long)_estimatedPriorityForPotentialSaveAttempt;	// IMP=0x000000000002019b
- (long long)_priorityForSaveWithVisits:(id)arg1 tombstones:(id)arg2 bypassingThrottler:(_Bool)arg3;	// IMP=0x0000000000020135
- (void)_performBlockAsynchronouslyOnCloudHistoryQueueAfterHistoryHasLoaded:(CDUnknownBlockType)arg1;	// IMP=0x000000000001fe1b
- (void)_registerForHistoryWasLoadedNotificationIfNecessary;	// IMP=0x000000000001fe15
- (void)_fetchChangesWhenHistoryLoads;	// IMP=0x000000000001fdee
- (void)_saveChangesWhenHistoryLoads;	// IMP=0x000000000001fdc7
- (void)_determineNumberOfDevicesInSyncCircleForOperation:(id)arg1 completionHandler:(CDUnknownBlockType)arg2;	// IMP=0x000000000001f8c5
- (void)_fetchChangesInResponseToPushNotification:(id)arg1;	// IMP=0x000000000001f7fa
- (void)_processPendingPushNotifications;	// IMP=0x000000000001f39a
- (void)_pushNotificationReceived:(id)arg1;	// IMP=0x000000000001f335
- (void)_setPushNotificationAreInitialized:(_Bool)arg1;	// IMP=0x000000000001f1ee
- (void)_pushNotificationsAreInitializedWithCompletionHandler:(CDUnknownBlockType)arg1;	// IMP=0x000000000001efe9
- (void)_initializePushNotificationSupport;	// IMP=0x000000000001ec4a
- (void)_removePersistedLongLivedSaveOperationDictionary;	// IMP=0x000000000001eb37
- (void)_persistLongLivedSaveOperationDictionaryWithOperationID:(id)arg1 databaseGeneration:(long long)arg2;	// IMP=0x000000000001e8e1
- (void)_persistedLongLivedSaveOperationID:(id *)arg1 databaseGeneration:(long long *)arg2;	// IMP=0x000000000001e750
- (void)_updateHistoryAfterSuccessfulPersistedLongLivedSaveOperationWithGeneration:(long long)arg1 completion:(CDUnknownBlockType)arg2;	// IMP=0x000000000001e5bb
- (void)_replayPersistedLongLivedSaveOperationIfNecessary;	// IMP=0x000000000001dff3
- (void)_pruneTombstonesThatCanNoLongerMatchVisitsFetchedFromCloud;	// IMP=0x000000000001de74
- (void)_fetchAndMergeChangesWithServerChangeTokenData:(id)arg1 withPriority:(long long)arg2;	// IMP=0x000000000001d2f3
- (void)_deleteAllCloudHistoryAndSaveAgain;	// IMP=0x000000000001cff6
- (void)_transitionCloudHistoryStoreToManateeState:(long long)arg1 completion:(CDUnknownBlockType)arg2;	// IMP=0x000000000001c332
- (void)_handleManateeErrorIfNeeded:(id)arg1;	// IMP=0x000000000001c0f9
- (id)_manateeErrorCode:(id)arg1;	// IMP=0x000000000001c033
- (void)_pcsIdentitiesChangedNotification:(id)arg1;	// IMP=0x000000000001be4f
- (void)_setServerChangeToken:(id)arg1;	// IMP=0x000000000001bd59
- (void)_getServerChangeTokenDataWithCompletion:(CDUnknownBlockType)arg1;	// IMP=0x000000000001bb28
- (void)_callAndResetFetchCompletionHandlerWithError:(id)arg1;	// IMP=0x000000000001bac7
- (void)_registerFetchCompletionHandler:(CDUnknownBlockType)arg1;	// IMP=0x000000000001b985
- (void)fetchAndMergeChangesBypassingThrottler:(_Bool)arg1 completionHandler:(CDUnknownBlockType)arg2;	// IMP=0x000000000001aff6
- (void)fetchAndMergeChangesBypassingThrottler;	// IMP=0x000000000001afdd
- (void)fetchAndMergeChanges;	// IMP=0x000000000001afc7
- (id)dateOfNextPermittedSaveChangesAttempt;	// IMP=0x000000000001af95
- (void)_postSaveChangesAttemptCompletedNotificationWithAllPendingDataSaved:(_Bool)arg1;	// IMP=0x000000000001ae74
- (void)_saveVisits:(id)arg1 tombstones:(id)arg2 toCloudHistoryBypassingThrottler:(_Bool)arg3 longLivedOperationPersistenceCompletion:(CDUnknownBlockType)arg4 withCallback:(CDUnknownBlockType)arg5;	// IMP=0x000000000001a876
- (void)getVisitsAndTombstonesNeedingSyncWithVisitSyncWindow:(double)arg1 completion:(CDUnknownBlockType)arg2;	// IMP=0x000000000001a33b
- (void)_callAndResetSaveCompletionHandlerWithError:(id)arg1;	// IMP=0x000000000001a2da
- (void)_registerSaveCompletionHandler:(CDUnknownBlockType)arg1;	// IMP=0x000000000001a160
- (void)saveChangesBypassingThrottler:(_Bool)arg1 completionHandler:(CDUnknownBlockType)arg2;	// IMP=0x0000000000018974
- (void)saveChangesToCloudHistoryStoreBypassingThrottler;	// IMP=0x000000000001895b
- (void)saveChangesToCloudHistoryStore;	// IMP=0x0000000000018945
@property(nonatomic, getter=isCloudHistoryEnabled) _Bool cloudHistoryEnabled;
- (void)dealloc;	// IMP=0x0000000000018799
- (void)_determineCloudHistoryStoreWithCompletion:(CDUnknownBlockType)arg1;	// IMP=0x000000000001841b
- (id)initWithDatabase:(id)arg1 configuration:(id)arg2 completionBlock:(CDUnknownBlockType)arg3;	// IMP=0x0000000000017a96
- (id)initWithDatabase:(id)arg1 configuration:(id)arg2;	// IMP=0x0000000000017a80

// Remaining properties
@property(readonly, copy) NSString *debugDescription;
@property(readonly, copy) NSString *description;
@property(readonly) unsigned long long hash;
@property(readonly) Class superclass;

@end

